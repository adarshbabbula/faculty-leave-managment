<mat-spinner *ngIf="isLoading" style="margin: 0 auto"></mat-spinner>
<mat-card class="card1" *ngIf="!isLoading&&!isExceeded">
    <h2>One hour Permission</h2>
    <hr>
    <form [formGroup] = "form" (ngSubmit)="submit()">
      <h2>Time</h2>
        <mat-form-field appearance="fill">
          <mat-label style="color: aliceblue;">From</mat-label>
          <input matInput formControlName="from">
        </mat-form-field>
        <mat-form-field appearance="fill" style="margin-left: 20px;">
          <mat-label style="color: aliceblue;">To</mat-label>
          <input matInput formControlName="to">
        </mat-form-field>
        <hr>
        <h2>Reason for a permission</h2>
          <mat-form-field class="example-full-width" appearance="fill">
            <mat-label style="color: aliceblue;">Reason</mat-label>
            <textarea matInput name="reason" formControlName="reason"></textarea>
          </mat-form-field>
          <button mat-flat-button color="primary">Submit</button>
    </form>
</mat-card>
<mat-card *ngIf="!isLoading&&isExceeded">
  <mat-card-title style="color: black;">You Cannot Take Permission</mat-card-title>
  <mat-card-subtitle>Your Permissions have exceeded this month</mat-card-subtitle>
</mat-card>
<h2 style="text-align: center;margin-top: 30px;" *ngIf="!isLoading">Registered Permissions</h2>

        <div class="container border" id="c" style="margin-top: 0px;" *ngIf="!isLoading">
            <div class="row" style="margin:20px 0px 20px 25px;text-align: center;">
              <div class="col-md border">
                <h3>Date</h3>
              </div>
              <div class="col-md border">
                <h3>Time</h3>
              </div>
              <div class="col-md border">
                <h3>Reason</h3>
              </div>
              <div class="col-md border">
                <h3>Status</h3>
              </div>
              <div class="col-md border">
                <h3>Reason For Rejection</h3>
              </div>
              <div class="col-md border">
                <h3>Print</h3>
              </div>
            </div>
            <div *ngIf="!isLoading">
              <div class="row" style="margin:20px 0px;text-align: center;" *ngFor="let item of leaves">
                <div id="di" style="visibility: hidden; width: 0;height: 0" *ngIf="!isLoading">
                  <h1>Permission Form</h1>
                  <h2>Date: {{item.date}}</h2>
                  <h2>Name: {{faculty.name}}</h2>
                  <h2>Reason: {{item.reason}}</h2>
                  <h2>Time: {{item.from}} to {{item.to}}</h2>
                </div>
                <div class="col-md border">
                 <h3>{{item.date}}</h3>
                </div>
                <div class="col-md border">
                  <h3>{{item.from }} to {{item.to}}</h3>
              </div>
                <div class="col-md border">
                    <h3>{{item.reason}}</h3>
                </div>
                <div class="col-md border">
                   {{item.status}}
                </div>
                <div class="col-md border" *ngIf="item.status =='Rejected'">
                  {{item.reasonForRejection}}
               </div>
               <div class="col-md border" *ngIf="item.status !='Rejected'">
                {{item.reasonForRejection}}
             </div>
               <div class="col-md border">
                <button  class="btn btn-primary" style="margin-top: 5px;" printSectionId="di" ngxPrint *ngIf="item.status=='Accepted'">Print</button>
              </div>
              </div>

            </div>
          </div>
